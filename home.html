<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Last Man Standing - Home</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <div class="container">
            <div id="branding">
                <h1>Last Man Standing</h1>
                <p>THE WORLD'S GREATEST FOOTBALL POOL!</p>
            </div>
        </div>
    </header>

    <section class="container">
        <h2>Welcome, <span id="userName">User</span></h2>

        <div class="profile-section">
            <h3>Your Profile Information</h3>
            <p><strong>First Name:</strong> <span id="firstName"></span></p>
            <p><strong>Last Name:</strong> <span id="lastName"></span></p>
            <p><strong>Email Address:</strong> <span id="emailAddress"></span></p>
            <p><strong>Phone Number:</strong> <span id="phoneNumber"></span></p>
        </div>

        <div class="entries-section">
            <h3>Your Pool Entries</h3>
            <table>
                <thead>
                    <tr>
                        <th>Entry Name</th>
                        <th>Paid in Full</th>
                        <th>Status</th>
                        <th>Manage Picks</th>
                    </tr>
                </thead>
                <tbody id="entriesTableBody">
                    <!-- Entries will be dynamically inserted here -->
                </tbody>
            </table>
        </div>
    </section>

    <!-- Hidden form for managing picks -->
    <div id="entryForm" class="hidden">
        <h3>Manage Your Picks</h3>
        <form id="managePicksForm">
            <!-- Weekly pick fields will be dynamically inserted here -->
            <div class="form-group">
                <input type="submit" value="Update Picks">
            </div>
        </form>
    </div>

    <footer>
        <p>&copy; 2024 Last Man Standing. All rights reserved.</p>
    </footer>

    <script src="script.js"></script>
    <script>
        // Simulating loading data from the login response (Json 1 example)
        const userData = {
            firstName: "Kevin",
            lastName: "Canovali",
            emailAddress: "canovalik@gmail.com",
            phoneNumber: "412-610-5559",
            poolEntries: [
                {
                    lms_display_name: "PGHSouth: KCANOVALI-1002",
                    paid_in_full: true,
                    disqualified: false,
                    dvuid: 1002
                },
                {
                    lms_display_name: "PGHSouth: KCANOVALI-1003",
                    paid_in_full: true,
                    disqualified: true,
                    dvuid: 1003
                }
            ]
        };

        // Populate the user profile information
        document.getElementById('userName').textContent = userData.firstName;
        document.getElementById('firstName').textContent = userData.firstName;
        document.getElementById('lastName').textContent = userData.lastName;
        document.getElementById('emailAddress').textContent = userData.emailAddress;
        document.getElementById('phoneNumber').textContent = userData.phoneNumber;

        // Populate the entries table
        const entriesTableBody = document.getElementById('entriesTableBody');
        userData.poolEntries.forEach(entry => {
            const row = document.createElement('tr');

            const entryNameCell = document.createElement('td');
            entryNameCell.textContent = entry.lms_display_name;
            row.appendChild(entryNameCell);

            const paidCell = document.createElement('td');
            paidCell.textContent = entry.paid_in_full ? 'Yes' : 'No';
            row.appendChild(paidCell);

            const statusCell = document.createElement('td');
            statusCell.textContent = entry.disqualified ? 'Disqualified' : 'Active';
            row.appendChild(statusCell);

            const manageCell = document.createElement('td');
            const manageButton = document.createElement('button');
            manageButton.textContent = entry.disqualified ? 'View' : 'Edit';
            manageButton.classList.add('edit-entry-btn');
            manageButton.setAttribute('data-entry-id', entry.dvuid);
            manageButton.setAttribute('data-entry', JSON.stringify(entry));
            manageCell.appendChild(manageButton);
            row.appendChild(manageCell);

            entriesTableBody.appendChild(row);
        });
    </script>
</body>
</html>
